"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4949],{75929:function(e,t,l){var i=l(5152),s=l.n(i);t.Z=s()(()=>l.e(4950).then(l.bind(l,54950)),{loadableGenerated:{webpack:()=>[54950]}}),s()(()=>l.e(4950).then(l.bind(l,54950)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[54950]}})},24949:function(e,t,l){l.r(t),l.d(t,{default:function(){return et}});var i=l(85893),s=l(93967),n=l.n(s),a=l(67294),o=l(3883),r=l(63691),d=l(58884),c=l(97358),u=l(85422),h=l(70694),g=l(98912),p=l(28668),v=l(70965),m=l(7071),y=l(50934),f=l(10743),x=l(75929),_=l(75097),Z=l(53955),b=l(45697),j=l.n(b),S=l(10508),w=l(41145),M=l(68365),C=l(43846);let N=(0,S.ZP)(f.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-f722b67c-0"})(["cursor:pointer;margin-top:8px;"]),k=S.ZP.div.withConfig({componentId:"sc-f722b67c-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,w.rS)("palette.imageTeaser.placeholder"),f.Z,M.PJ,M.Mq,N),E=e=>{let{imageSrc:t,imageAlt:l,width:s,...n}=e;return(0,i.jsxs)(k,{...n,children:[(0,i.jsx)("div",{className:"image-wrapper",children:t&&(0,i.jsx)("img",{alt:l,src:t,height:"80",width:s})}),(0,i.jsxs)(f.Z,{$family:"base",children:[(0,i.jsx)(C.cC,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(N,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(C.cC,{i18nKey:"similarimage-002",children:"Back"})})]})]})};E.propTypes={imageAlt:j().string.isRequired,imageSrc:j().string.isRequired};var A=l(29761),O=l(1112),T=l(59908),G=l(58719),I=l(62767),R=l(73718),F=l(20213),z=l(35033),P=l(66753),B=l(88719),$=l(57720),K=l(55623),q=l(820),D=l(7517),W=l(68955),U=l(58280),Y=l(34255),L=l(14749),Q=l(49785),H=l(19442),V=l(14484),J=l(96165),X=l(86955);let ee=e=>{let{storyId:t,isStoryMode:l}=e;return(0,i.jsxs)("div",{className:n()("storyboard-links",{"story-mode":l}),children:[(0,i.jsx)(m.Z,{className:n()({selected:!l}),extra:"".concat(W.Z.COMMON.SORT,"=curated&").concat(W.Z.COMMON.PAGE,"=1&mode=shop"),children:(0,i.jsx)(C.cC,{i18nKey:"searchpagecontent-001",children:"All"})}),(0,i.jsx)(m.Z,{className:n()({selected:l}),extra:"mode=story&".concat(W.Z.WEB.STORY,"=").concat(t,"&").concat(W.Z.COMMON.SORT,"=curated&").concat(W.Z.COMMON.PAGE,"=1"),children:(0,i.jsx)(C.cC,{i18nKey:"searchpagecontent-002",children:"Storyboard"})})]})};var et=e=>{var t,l,s,n,b,j,S,w,M,C;let{user:N,userIsFetched:k,darkTheme:et,searchQueries:el,searchTerm:ei,topicEntity:es,topicEntityIsFetched:en,topicEntityIsLoading:ea,feed:eo,isStoryMode:er,hasSimilarImage:ed,similarImageQuery:ec,seoLoaded:eu,blurb:eh,blurbTitlePart:eg,setShowSearchDrawer:ep,showSearchDrawer:ev,setMobileFiltering:em,setMobileFilterCount:ey,hasMobileLinks:ef,isBoostPage:ex,handleBoostSearch:e_,sidebarState:eZ,searchTermIsSpam:eb=!1,showcasedImages:ej,showcasedImagesLoading:eS=!1,isDesktop:ew,hasHydrated:eM}=e,{queries:eC}=(0,K.Z)(),{showRawpixelTeam:eN}=(0,J.ZP)(),ek=(0,z.I8)(),eE=(0,V.EC)(),[eA,eO]=(0,a.useState)(!0),{data:eT=B.CH,isSuccess:eG}=eo,eI=eo.isPending||eS;(0,a.useEffect)(()=>{!eI&&N&&eE.isReady&&eO(!1)},[eI,N,eE.isReady]);let{data:eR,isSuccess:eF}=(0,P.r)(parseInt(el[W.Z.WEB.STORY],10),er),ez=(null===(l=ec.data)||void 0===l?void 0:null===(t=l.results)||void 0===t?void 0:t.length)&&(null===(s=ec.data.results[0])||void 0===s?void 0:s.id)?null===(n=ec.data)||void 0===n?void 0:n.results[0]:null,eP=ed&&(null==ez?void 0:ez.metadata)?null==ez?void 0:ez.metadata.description:"",eB=ed&&ez?Math.round((null==ez?void 0:ez.display_image_width)/(null==ez?void 0:ez.display_image_height)*80):0,e$=ed&&ez?eB>400?(0,L._N)(ez,500):eB>300?(0,L._N)(ez,400):eB>200?(0,L._N)(ez,300):(0,L._N)(ez,200):void 0,{results:eK,total:eq,rpa:eD={},pinterest_totals:eW}=eT||{},{page:eU,totalPages:eY,pageSize:eL}=(0,a.useMemo)(()=>(0,U.zo)(el,eT),[eT,el]),eQ=(null==eW?void 0:eW.user_remaining)||0,eH=(null==eT?void 0:eT.spellcheck_result)&&!!eT.spellcheck_result.suggested_key,eV=!!es&&(0,Y.u)(es),[eJ,eX]=(0,a.useState)(!1),[e0,e1]=(0,a.useState)(!0),e5=(0,a.useCallback)(e=>{!0===e||!1===e?eX(e):eX(e=>!e)},[]),e9=a.useMemo(()=>{let{isActiveEntityFetching:e}=eZ;return!e},[eZ]),e4=ew||!eM;(0,a.useEffect)(()=>{(0,v.Q5)()},[eJ,e4]),(0,a.useEffect)(()=>{eM&&e0&&k&&e1(!1)},[eC.topic_group,eC.topic,e0,eM,es,k]);let e8=eG||eF,e2=(0,a.useMemo)(()=>{var e;return eM&&((null==ei?void 0:ei.length)||(null==eD?void 0:null===(e=eD.image)||void 0===e?void 0:e.length))?(0,H.x)(JSON.stringify({keys:ei||"",sortedKeys:(null==eD?void 0:eD.image)||""})):null},[ei,null==eD?void 0:eD.image,eM]),e7=eu&&!es&&!ed,e6=(0,a.useCallback)(()=>ep(!1),[ep]),{pathQuery:e3}=eZ||{},te=(0,a.useMemo)(()=>{var e,t;return(null===(e=((null==e3?void 0:null===(t=e3.getFilters)||void 0===t?void 0:t.call(e3,"tag","tags_or","color","theme","hearted"))||[]).filter(e=>!("tag"===e.type&&"$mobilewallpapers"===e.value)).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[e3]);(0,a.useEffect)(()=>{e4||(ey(te),em(te>0))},[e4,te,em,null==es?void 0:es.id,ey]),(0,o.K)(()=>{var e;k&&N&&(null==eD?void 0:null===(e=eD.image)||void 0===e?void 0:e.length)&&eG&&ek("search",N,{keys:ei&&(null==ei?void 0:ei.length)?eb?eD.search:ei:eD.image,total:eq,sortedKeys:eD.image,parameters:el}).then().catch()},[N,k,ei,null==eD?void 0:eD.image,eG,eq,el,eb]),(0,a.useEffect)(()=>{k&&N&&(null==es?void 0:es.id)&&ek("topicview",N,{topicId:es.id,topicType:es.entity_type,viewmode:er?"storyboard":"search",topicTag:es.tag}).then().catch()},[N,k,null==es?void 0:es.id,null==es?void 0:es.tag,null==es?void 0:es.entity_type,er,ek]),(0,a.useEffect)(()=>{eT&&k&&eU&&e8&&ek("feed",N,{feed:"search_feed",action:"view",value:(null==eD?void 0:eD.image)||"",page:eU,total:eq||0}).then().catch()},[N,k,eD.image,eU,eT,eq,e8,ek]);let[tt,tl]=a.useMemo(()=>{if(!(null==es?void 0:es.type)&&!(null==es?void 0:es.id))return[null,null];let e=(0,$.S)({widgets:es.widgets,title:es.title,title_long:es.title_long},null,"title");return es.published||(e="".concat(e," (unpublished)")),[e,es.seo_description]},[null==es?void 0:es.id,null==es?void 0:es.published,null==es?void 0:es.seo_description,null==es?void 0:es.title_long,null==es?void 0:es.title,null==es?void 0:es.type,null==es?void 0:es.widgets]),ti=(0,a.useMemo)(()=>{if(ex||!(null==es?void 0:es.type))return!1;if("topic_group"===es.type&&es.show_new_button)return!0;if("topic"===es.type){var e;let t=new Q.Z(eC.path).getLastOfType("group");if((null==t?void 0:t.id)&&(null===(e=es.widgets[t.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[ex,null==es?void 0:es.type,null==es?void 0:es.show_new_button,null==es?void 0:es.widgets,eC.path]),ts=(0,a.useMemo)(()=>{if(!eM||!k||!eE.isReady||ea)return{visibility:X.A}},[eM,ea,k,eE.isReady]),tn=(0,a.useMemo)(()=>{if(!k||!eE.isReady||!eM||ea||eI&&(eA||ti))return{visibility:"hidden"}},[eM,k,ea,eI,eA,ti,eE.isReady]);return(0,i.jsxs)(i.Fragment,{children:[ef&&!ex&&k&&eE.isReady&&!e4&&!es&&!ea&&(0,i.jsx)(R.Z,{sidebarState:eZ}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(Z.N4,{className:"results",style:ts,children:[(0,i.jsx)(h.Z,{searchEntity:es,className:"search-wrapper",type:"elements_designs",onImageSearch:ex?e_:null}),!eb&&!eH&&!es&&!ea&&!ex&&!e4&&(null==ei?void 0:ei.length)>0&&(0,i.jsxs)(Z.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(f.Z,{as:"h1",$family:"medium",$capitalize:!0,$fontSize:"32px",$textAlign:"center",children:ei}),(null==eh?void 0:eh.length)>0&&(0,i.jsx)(G.B,{blurbTitlePart:eg,blurb:eh})]}),ex&&(0,i.jsx)(I.Z,{}),!ex&&(!!es||!eM||!en)&&(0,i.jsx)(u.Z,{title:tt,seoDescription:tl,entity:es,analyticsOrigin:"search_header"}),ed&&!!e$&&(0,i.jsx)(E,{imageSrc:e$,imageAlt:eP,width:eB}),eM&&!!N&&eH&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(f.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(eb?"":' for "'.concat(eT.spellcheck_result.searched_key,'"'),". Did you mean "),(0,i.jsx)(f.Z,{as:m.Z,$family:"medium",pathname:"/create/".concat(ex?"boost":"search","/").concat(eT.spellcheck_result.suggested_key),extra:"".concat(W.Z.COMMON.SORT,"=curated&").concat(W.Z.COMMON.PAGE,"=1"),children:eT.spellcheck_result.suggested_key}),"?"]})}),!!es&&eN&&!!(null==N?void 0:null===(b=N.access)||void 0===b?void 0:b.show_rawpixel_team)&&eM&&(0,i.jsx)(c.Z,{entity:es}),!!es&&(null==es?void 0:null===(j=es.assigned_artists)||void 0===j?void 0:j.length)>0&&(0,i.jsx)(A.Z,{className:"story-collaborators",children:es.assigned_artists.map((e,t)=>{var l;return(0,i.jsx)(O.Z,{className:"story-collaborator",profile:e,showName:(null===(l=es.assigned_artists)||void 0===l?void 0:l.length)===1},t)})}),!ed&&(0,i.jsx)(T.Z,{topicEntity:es,showSearchFilters:!0,defaultFilters:e9&&D._v,showSidebarCollapseButton:!0,onSidebarCollapseClick:e5,isCollapsed:eJ,hasStoryView:eV,isStoryMode:er,storyId:null==es?void 0:es.story,currentTagsQuery:el[W.Z.IMAGE.TAGS]||"",queries:el,urlQueries:eC,pathname:"/".concat(ex?"boost":"search").concat((null==ei?void 0:ei.length)?"/".concat(encodeURIComponent(ei)):"")}),eV&&(0,i.jsx)(ee,{isStoryMode:er,storyId:null==es?void 0:es.story}),!er&&(!!(null==eK?void 0:eK.length)||eI)&&(0,i.jsx)(d.Z,{entity:es,config:ex&&p.zT||!e4&&!!es&&p.O6||p.Vs,images:eK,showcasedImages:ej,analyticsSearchData:e2,showCreateButton:ti,style:tn}),er&&!!eR&&(0,i.jsx)(r.Z,{story:eR,storyId:parseInt(el[W.Z.WEB.STORY],10),isSidebarCollapsed:eJ,entity:es}),e8&&!ex&&!(null==eK?void 0:eK.length)&&!eI&&(0,i.jsx)(i.Fragment,{children:el[W.Z.COMMON.FLAGGED_BY]&&(null==N?void 0:N.uid)===0?(0,i.jsx)(_.Z,{type:"favorites-logged-out"}):(0,i.jsx)(_.Z,{type:"image",rawSearchTerm:eb?"":ei})}),ex&&e8&&!(null==eK?void 0:eK.length)&&!eI&&(0,i.jsx)(x.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(y.Z,{page:eU,hideNext:eU*eL>=q.E7,pageSize:eL,disabled:eI,totalPages:eY,totalResults:ex?eQ:eq,resultsSearch:eH?null==eT?void 0:null===(S=eT.spellcheck_result)||void 0===S?void 0:S.suggested_key:eb?"":ei,boost:ex&&!eI&&!!eq,pathname:"/".concat(ex?"boost":"search").concat(eH?"/".concat(encodeURIComponent(null==eT?void 0:null===(w=eT.spellcheck_result)||void 0===w?void 0:w.suggested_key)):(null==ei?void 0:ei.length)?"/".concat(encodeURIComponent(ei)):""),style:ts}),!e4&&(!ed&&!!eq&&!eI||eV&&er&&!!(null==eR?void 0:eR.story_items)&&(null==eR?void 0:null===(M=eR.story_items)||void 0===M?void 0:M.length)>0)&&(0,i.jsx)(T.Z,{topicEntity:es,showSearchFilters:!1,hasStoryView:eV,isStoryMode:er,storyId:null==es?void 0:es.story,currentTagsQuery:el[W.Z.IMAGE.TAGS]||"",queries:el,pathname:"/".concat(ex?"boost":"search").concat(eH?"/".concat(encodeURIComponent(null==eT?void 0:null===(C=eT.spellcheck_result)||void 0===C?void 0:C.suggested_key)):(null==ei?void 0:ei.length)?"/".concat(encodeURIComponent(ei)):"")}),e7&&e8&&!!eq&&!eb&&(0,i.jsx)("div",{className:"seo-description",children:(null==eh?void 0:eh.length)>0&&(0,i.jsxs)(f.Z,{as:"h1",children:[eg&&(0,i.jsx)(f.Z,{$family:"medium",children:eg}),eh]})})]})]}),e4&&(0,i.jsx)(g.Z,{isCollapsed:eJ,onCollapse:e5,sidebarState:eZ,className:"search-sidebar",storyMode:er,darkTheme:et}),!e4&&(0,i.jsx)(F.Z,{onClose:e6,open:ev,pathSidebarState:eZ})]})]})}},57720:function(e,t,l){l.d(t,{S:function(){return g}});var i=l(85893),s=l(67294),n=l(55623),a=l(51168),o=l(274),r=l(68955),d=l(49785),c=l(29343),u=l(46499);let h=(e,t,l,i,s,n)=>({label:e,tag:t,key:l,searchOption:i,entity:s,...n}),g=function(e,t,l){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&t&&o.uw[t])return o.uw[t];if(t){let i=Object.keys(e.widgets).map(t=>e.widgets[t]).find(e=>{let{widget_tag:l}=e;return l===t});return(null==i?void 0:i.title)||l&&e[l]||e.title_long||e.title}return l&&e[l]||e.title_long||e.title};t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:l,path:p}=(0,n.Z)(),v=p.startsWith("/create/search"),m=(0,s.useMemo)(()=>new d.Z(l[r.Z.WEB.PATH]),[l]),{filterGroups:y=[]}=(0,a.Z)(),{data:f}=(0,c.B2)(o.GP),x=(0,s.useMemo)(()=>{var e;return(null==f?void 0:null===(e=f.value)||void 0===e?void 0:e.themes)||[]},[f]),_=s.useMemo(()=>{if("header"===t)return[];let e=l[r.Z.IMAGE.TAGS]?l[r.Z.IMAGE.TAGS].split(",").filter(e=>e!==l.topic&&e!==l.topic_group):[];if(l[r.Z.WEB.PATH]){let t=[...m.getFilters("tag","tags_or","color","theme").map(e=>e.value),...m.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...t),m.getFilter("hearted")&&e.push(o.du)}return(l[r.Z.IMAGE.TAGS_OR]&&e.push(...l[r.Z.IMAGE.TAGS_OR].split(",")),l[r.Z.COMMON.FLAGGED_BY]&&e.push(o.du),e.length)?y.reduce((e,t)=>[...e,...t.filters],[]).map(t=>{if("sizes"===t.tag){let t=u.Z.find(t=>e.includes(t.tag));if(t)return{...t,published:!0}}return t}).filter(t=>t.published&&(e.includes(t.tag)||"sizes"===t.tag&&u.Z.some(t=>e.includes(t.tag)))):[]},[y,l,t,m]);return s.useMemo(()=>{let s=[];if(e){let t=g(e,null,null,"search_placeholder");s.push(h(t,e.tag,"".concat(e.type,"-").concat(e.tag),v?1:0,e))}_.length&&_.forEach(e=>{s.push(h(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),v?1:0,null,{filter:!0}))});let n=l[r.Z.IMAGE.TAGS]?l[r.Z.IMAGE.TAGS].split(",").filter(e=>e!==l.topic&&e!==l.topic_group):[];if("header"!==t){var a;let e=l[r.Z.IMAGE.COLOR]||(null===(a=m.getFilter("color"))||void 0===a?void 0:a.value);if(null==e?void 0:e.length)s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.replace("#",""),v?1:0,null,{filter:!0}));else if(x.length>0&&(null==n?void 0:n.length)>0&&x.some(e=>n.includes(e.tag))){let e=x.find(e=>n.includes(e.tag)),t=e.icon_url;(null==t?void 0:t.length)&&s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(t,")")}}),"Color"]}),e.tag,"theme-color-".concat(t,"-").concat(e.tag),0,null,{filter:!0}))}else if(m.getFilter("theme")){let e=m.getFilter("theme"),t=x.find(t=>t.tag===e.value).icon_url;(null==t?void 0:t.length)&&s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(t,")")}}),"Color"]}),e.value,"theme-color-".concat(t,"-").concat(e.value),0,null,{filter:!0}))}}return{placeholders:{},searchTags:s.filter((e,t,l)=>{if(l.findIndex(t=>t.tag===e.tag)===t)return!0}).slice(0,20)}},[e,_,l,t,v,m,x])}}}]);